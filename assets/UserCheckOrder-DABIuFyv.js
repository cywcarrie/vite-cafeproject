import{V as g}from"./VueLoading-Bpy1CoYh.js";import{F as P}from"./FooterComponent-BBzz5jx7.js";import{_ as v,S as u,r as d,o,c as r,d as c,a as t,n as m,j as i,f as k,F as b,i as C,t as n,b as f,w as S}from"./index-BLc06Iu6.js";const V={BASE_URL:"/vite-cafeproject/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb-api"},{VITE_APP_API:x,VITE_APP_PATH:_}=V,E={components:{VueLoading:g,FooterComponent:P},data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const l=`${x}api/${_}/order/${this.orderId}`;this.$http.get(l).then(e=>{e.data.success&&(this.order=e.data.order)}).catch(e=>{u("error",`${e.response.data.message}`)})},payOrder(){const l=`${x}api/${_}/pay/${this.orderId}`;this.$http.post(l).then(e=>{e.data.success&&this.getOrder()}).catch(e=>{u("error",`${e.response.data.message}`)})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},I={class:"mb-5"},A={class:"container"},T={class:"d-flex justify-content-center align-items-center mb-5 mt-3"},O={class:"row justify-content-center align-items-center"},L={class:"col-md-10"},j={key:0,class:"d-flex justify-content-center align-items-center mt-5"},N={key:1,class:"fw-bold mt-4 mb-5 text-center"},D={class:"my-5 row justify-content-center"},F={class:"table align-middle table-light table-borderless mb-4"},R={class:"text-center text-primary fw-bold"},B={class:"text-center text-nowrap"},H={class:"text-center text-nowrap"},M={class:"fs-5 text-primary fw-bold text-nowrap"},U={class:"table table-light table-borderless mb-4"},q={class:"table-nowrap"},z={class:"text-nowrap"},Q={class:"table-nowrap"},Y={class:"text-nowrap"},$={class:"table-nowrap"},G={class:"text-nowrap"},J={class:"table-nowrap"},K={class:"text-nowrap"},W={class:"table-nowrap"},X={key:0,class:"text-nowrap text-danger fw-bold"},Z={key:1,class:"text-success fw-bold text-nowrap"},tt={key:0,class:"text-end"},et={key:1,class:"text-end"};function st(l,e,ot,rt,s,p){const h=d("VueLoading"),y=d("RouterLink"),w=d("FooterComponent");return o(),r(b,null,[c(h,{active:s.isLoading},null,8,["active"]),t("section",I,[t("div",A,[e[18]||(e[18]=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner2 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"}," Checkout Process ")],-1)),t("div",T,[e[3]||(e[3]=t("h6",{class:"d-flex flex-column text-center fw-bold mb-0 text-secondary pay-header"},[t("span",{class:"mb-1"},"STEP 1"),t("span",null,"Information")],-1)),e[4]||(e[4]=t("i",{class:"bi bi-caret-right-fill mx-1 mx-md-2 text-secondary"},null,-1)),t("h6",{class:m(["d-flex flex-column text-center fw-bold mb-0 text-secondary pay-header",{active:s.order.is_paid===!1}])},e[1]||(e[1]=[t("span",{class:"mb-1"},"STEP 2",-1),t("span",null,"Payment",-1)]),2),e[5]||(e[5]=t("i",{class:"bi bi-caret-right-fill mx-1 mx-md-2 text-secondary"},null,-1)),t("h6",{class:m(["d-flex flex-column text-center fw-bold mb-0 text-secondary pay-header",{active:s.order.is_paid===!0}])},e[2]||(e[2]=[t("span",{class:"mb-1"},"STEP 3",-1),t("span",null,"Complete",-1)]),2)]),t("div",O,[t("div",L,[s.order.is_paid===!0?(o(),r("div",j,e[6]||(e[6]=[t("i",{class:"bi bi-check-circle-fill fs-2 pe-2 text-success"},null,-1),t("h2",{class:"fw-bold mb-0 text-success"},"Success !",-1)]))):i("",!0),s.order.is_paid===!0?(o(),r("h6",N," A confirmation as been sent to your email ! ")):i("",!0),t("div",D,[e[17]||(e[17]=t("h3",{class:"text-center fw-bold mb-4"},"Order Details",-1)),t("form",{class:"col-lg-6",onSubmit:e[0]||(e[0]=k((...a)=>p.payOrder&&p.payOrder(...a),["prevent"]))},[t("table",F,[e[8]||(e[8]=t("thead",{class:"text-center bg-light"},[t("tr",null,[t("th",{class:"text-nowrap"},"Product"),t("th",{class:"text-center text-nowrap"},"Qty"),t("th",{class:"text-nowrap"},"Price")])],-1)),t("tbody",null,[(o(!0),r(b,null,C(s.order.products,a=>(o(),r("tr",{key:a.id},[t("td",R,n(a.product.title),1),t("td",B,n(a.qty),1),t("td",H,n(l.$filters.currency(a.final_total)),1)]))),128))]),t("tfoot",null,[t("tr",null,[e[7]||(e[7]=t("td",{colspan:"2",class:"text-end text-nowrap"},"Total",-1)),t("td",M,n(l.$filters.currency(s.order.total)),1)])])]),e[16]||(e[16]=t("h3",{class:"text-center fw-bold mb-4"},"Customer Details",-1)),t("table",U,[t("tbody",null,[t("tr",q,[e[9]||(e[9]=t("th",{class:"text-nowrap"},"Name",-1)),t("td",z,n(s.order.user.name),1)]),t("tr",Q,[e[10]||(e[10]=t("th",{width:"100",class:"text-nowrap"},"Email",-1)),t("td",Y,n(s.order.user.email),1)]),t("tr",$,[e[11]||(e[11]=t("th",{class:"text-nowrap"},"Phone",-1)),t("td",G,n(s.order.user.tel),1)]),t("tr",J,[e[12]||(e[12]=t("th",null,"Address",-1)),t("td",K,n(s.order.user.address),1)]),t("tr",W,[e[13]||(e[13]=t("th",null,"Payment Status",-1)),t("td",null,[s.order.is_paid?(o(),r("span",Z,"Payment Completed")):(o(),r("span",X,"Not Yet Paid"))])])])]),s.order.is_paid===!1?(o(),r("div",tt,e[14]||(e[14]=[t("button",{class:"btn btn-primary ms-auto rounded-0",type:"submit"},[f(" Confirm Payment"),t("i",{class:"bi bi-caret-right-fill"})],-1)]))):i("",!0),s.order.is_paid===!0?(o(),r("div",et,[c(y,{to:"/products",class:"btn btn-primary ms-auto rounded-0"},{default:S(()=>e[15]||(e[15]=[t("i",{class:"bi bi-cart4 pe-1 fs-5"},null,-1),f("Continue Shopping")])),_:1})])):i("",!0)],32)])])])])]),c(w)],64)}const it=v(E,[["render",st]]);export{it as default};
