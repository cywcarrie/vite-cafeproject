import{_ as p,S as r,o as c,c as m,a as s,b as f,e as d,v as u,f as b}from"./index-SJqCb9kG.js";const w={BASE_URL:"/vite-cafeproject/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb-api"},{VITE_APP_API:g}=w,P={data(){return{user:{username:"",password:""}}},methods:{signIn(){const i=`${g}admin/signin`;this.$http.post(i,this.user).then(e=>{if(e.data.success){const{token:n,expired:a}=e.data;document.cookie=`hexToken=${n}; expires=${new Date(a)}`,r.fire({position:"top-end",icon:"success",title:"Login Successful",timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0}),this.$router.push("/admin/products")}else r.fire({position:"top-end",icon:"error",title:"Login Failed",timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})}).catch(e=>{r.fire({position:"top-end",icon:"error",title:`${e.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})}}},_={class:"container my-5 py-5"},x={class:"col-md-7 col-lg-4 bg-light p-5 rounded-2"},h={class:"mb-2"},v={class:"mb-2"};function y(i,e,n,a,o,l){return c(),m("div",_,[s("form",{class:"row justify-content-center py-5 px-3",onSubmit:e[2]||(e[2]=b((...t)=>l.signIn&&l.signIn(...t),["prevent"]))},[s("div",x,[e[5]||(e[5]=s("h2",{class:"h3 mb-3 text-center text-nowrap font-weight-normal fw-bold text-primary"},[s("i",{class:"bi bi-person-circle pe-2"}),f("Admin Login ")],-1)),s("div",h,[e[3]||(e[3]=s("label",{for:"inputEmail",class:"sr-only"},"Email",-1)),d(s("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=t=>o.user.username=t)},null,512),[[u,o.user.username]])]),s("div",v,[e[4]||(e[4]=s("label",{for:"inputPassword",class:"sr-only"},"Password",-1)),d(s("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>o.user.password=t)},null,512),[[u,o.user.password]])]),e[6]||(e[6]=s("div",{class:"text-center mt-4"},[s("button",{class:"btn btn-secondary btn-block px-4 fw-bold",type:"submit"}," Login as Admin ")],-1))])],32)])}const B=p(P,[["render",y]]);export{B as default};
