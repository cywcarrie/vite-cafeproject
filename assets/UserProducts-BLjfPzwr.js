import{_ as k,m as x,g as v,S as P,h as T,r as m,o as r,c as i,d as p,a as t,w as _,n as u,b as l,F as g,i as f,e as A,v as L,t as d,j as c}from"./index-BWAJPlKJ.js";import{F as $}from"./FooterComponent-D_32WqI4.js";const j={BASE_URL:"/vite-cafeproject/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb-api"},{VITE_APP_API:V,VITE_APP_PATH:N}=j,S={components:{FooterComponent:$},data(){return{products:[],search:"",categories:[],selectCategory:"",isLoading:!1,id:""}},methods:{...x(v,["addCart"]),getProducts(){const o=`${V}api/${N}/products/all`;this.search="",this.isLoading=!0,this.$http.get(o).then(e=>{if(this.isLoading=!1,e.data.success){this.products=e.data.products,this.getCategories();const{productCategory:h}=this.$route.params;h&&(this.selectCategory=h)}}).catch(e=>{P.fire({position:"top-end",icon:"error",title:`${e.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})},getCategories(){const o=new Set;this.products.forEach(e=>{o.add(e.category)}),this.categories=[...o]},getProduct(o){this.$router.push(`/product/${o}`)}},computed:{...T(v,["isDone"]),filterProducts(){return this.products.filter(o=>o.category.match(this.selectCategory))},searchProducts(){return this.products.filter(o=>o.title.toLowerCase().includes(this.search.toLowerCase())||o.category.toLowerCase().includes(this.search.toLowerCase()))}},mounted(){this.getProducts()}},E={class:"mb-5"},B={class:"container"},D={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},I={class:"breadcrumb"},F={class:"breadcrumb-item"},M={class:"row my-5"},R={class:"col-lg-3 mb-4 mb-lg-0"},U={class:"d-none d-md-block"},H={class:"list-group list-group-flush text-start"},O=["onClick"],q={class:"dropdown d-block d-md-none w-100"},z={class:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1"},K=["onClick"],G={class:"input-group mt-4 mb-3"},J={key:0,class:"col-lg-9"},Q={class:"mb-3"},W={class:"fs-5"},X={class:"fs-4 text-primary fw-bold"},Y={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},Z={class:"card product-card w-100 h-100"},tt=["onClick"],et=["src"],st={class:"card-body p-3"},ot={class:"d-flex justify-content-start text-primary fw-bold"},rt={class:"card-title fw-bolder text-primary mb-3"},it={class:"d-flex justify-content-between align-items-center mb-3"},nt={key:0,class:"h5 text-secondary"},lt={key:1,class:"h6 text-secondary"},dt={key:2,class:"h5 text-primary fw-bold"},ct={class:"card-footer border-0 bg-transparent pt-0 pb-3"},at=["onClick"],ut={key:0,class:"col text-center mt-5"},bt={key:1,class:"col-lg-9"},pt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},gt={class:"card product-card w-100 h-100 rounded-0"},ft=["onClick"],ht=["src"],yt={class:"card-body p-3"},mt={class:"d-flex justify-content-start text-primary fw-bold"},_t={class:"card-title fw-bolder text-primary mb-3"},vt={class:"d-flex justify-content-between align-items-center mb-3"},wt={key:0,class:"h5 text-secondary"},Ct={key:1,class:"h6 text-secondary"},kt={key:2,class:"h5 text-primary fw-bold"},xt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},Pt=["onClick"];function Tt(o,e,h,At,n,a){const w=m("LoadingVue"),y=m("RouterLink"),C=m("FooterComponent");return r(),i(g,null,[p(w,{active:n.isLoading,loader:"bars",color:"#6c584c",width:70,height:70},null,8,["active"]),t("section",E,[t("div",B,[e[21]||(e[21]=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"}," Our Products ")],-1)),t("nav",D,[t("ol",I,[t("li",F,[p(y,{to:"/",class:"text-dark hover-nav fw-bold"},{default:_(()=>e[4]||(e[4]=[l("Home")])),_:1})]),e[5]||(e[5]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Products",-1))])]),t("div",M,[t("div",R,[t("div",U,[e[8]||(e[8]=t("h3",{class:"text-start text-primary pb-3 fw-bold fs-4 border-bottom border-primary border-2"}," Products ",-1)),t("div",H,[t("button",{type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:n.selectCategory===""}]),"aria-current":"true",onClick:e[0]||(e[0]=s=>n.selectCategory="")},e[6]||(e[6]=[t("i",{class:"bi bi-house-heart me-2"},null,-1),l(" All ")]),2),(r(!0),i(g,null,f(n.categories,s=>(r(),i("button",{key:s,type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:s===n.selectCategory}]),onClick:b=>n.selectCategory=s},[e[7]||(e[7]=t("i",{class:"bi bi-house-heart me-2"},null,-1)),l(" "+d(s),1)],10,O))),128))])]),t("div",q,[e[11]||(e[11]=t("button",{class:"btn btn-secondary dropdown-toggle w-100 fw-bold",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Products ",-1)),t("ul",z,[t("li",null,[t("button",{onClick:e[1]||(e[1]=s=>n.selectCategory=""),class:u([{active:n.selectCategory===""},"dropdown-item fw-bold"]),type:"button"},e[9]||(e[9]=[t("i",{class:"bi bi-house-heart me-2"},null,-1),l("All ")]),2)]),t("li",null,[(r(!0),i(g,null,f(n.categories,s=>(r(),i("button",{key:s,class:u([{active:s===n.selectCategory},"dropdown-item fw-bold"]),onClick:b=>n.selectCategory=s,type:"button"},[e[10]||(e[10]=t("i",{class:"bi bi-house-heart me-2"},null,-1)),l(d(s),1)],10,K))),128))])])]),t("div",G,[A(t("input",{type:"text",class:"form-control border border-primary border-2 rounded-0",placeholder:"Keywords...","onUpdate:modelValue":e[2]||(e[2]=s=>n.search=s)},null,512),[[L,n.search]])])]),n.search?(r(),i("div",J,[t("div",Q,[t("div",W,[e[13]||(e[13]=l(" The following shows the results of ")),t("span",X,d(n.search),1),t("button",{type:"button",class:"btn btn-outline-danger btn-sm ms-2 text-uppercase",onClick:e[3]||(e[3]=s=>a.getProducts())},e[12]||(e[12]=[t("i",{class:"bi bi-x-circle pe-1"},null,-1),l("Cancel ")]))])]),t("div",Y,[(r(!0),i(g,null,f(a.searchProducts,s=>(r(),i("div",{class:"col mb-4",key:s.id},[t("div",Z,[p(y,{to:`/product/${s.id}`},{default:_(()=>[t("div",{class:"product-img cursor-pointer",onClick:b=>a.getProduct(s.id)},[t("img",{src:s.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,et),e[14]||(e[14]=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),l(" See More ")],-1))],8,tt),t("div",st,[t("div",ot,[t("p",null,[e[15]||(e[15]=t("i",{class:"bi bi-house-heart me-2"},null,-1)),l(d(s.category),1)])]),t("h5",rt,d(s.title),1),t("div",it,[s.price?c("",!0):(r(),i("div",nt," NT$"+d(o.$filters.currency(s.origin_price)),1)),s.price?(r(),i("del",lt,"NT$"+d(o.$filters.currency(s.origin_price)),1)):c("",!0),s.price?(r(),i("div",dt," NT$"+d(o.$filters.currency(s.price)),1)):c("",!0)])])]),_:2},1032,["to"]),t("div",ct,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:o.isDone===s.id}]),onClick:b=>o.addCart(s.id,o.qty)},e[16]||(e[16]=[t("i",{class:"bi bi-cart-fill"},null,-1),l(" Add To Cart ")]),10,at)])])]))),128))]),a.searchProducts.length===0?(r(),i("div",ut,e[17]||(e[17]=[t("h2",{class:"fw-bolder"},"No products found",-1),t("i",{class:"bi bi-bag-x fs-1"},null,-1)]))):c("",!0)])):(r(),i("div",bt,[t("div",pt,[(r(!0),i(g,null,f(a.filterProducts,s=>(r(),i("div",{class:"col mb-4",key:s.id},[t("div",gt,[p(y,{to:`/product/${s.id}`},{default:_(()=>[t("div",{class:"product-img cursor-pointer",onClick:b=>a.getProduct(s.id)},[t("img",{src:s.imageUrl,class:"card-img-top object-fit-cover rounded-0",alt:"productImages"},null,8,ht),e[18]||(e[18]=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),l(" See More ")],-1))],8,ft),t("div",yt,[t("div",mt,[t("p",null,[e[19]||(e[19]=t("i",{class:"bi bi-house-heart me-2"},null,-1)),l(d(s.category),1)])]),t("h5",_t,d(s.title),1),t("div",vt,[s.price?c("",!0):(r(),i("div",wt," NT$"+d(o.$filters.currency(s.origin_price)),1)),s.price?(r(),i("del",Ct,"NT$"+d(o.$filters.currency(s.origin_price)),1)):c("",!0),s.price?(r(),i("div",kt," NT$"+d(o.$filters.currency(s.price)),1)):c("",!0)])])]),_:2},1032,["to"]),t("div",xt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100 rounded-0",{disabled:o.isDone===s.id}]),onClick:b=>o.addCart(s.id,o.qty)},e[20]||(e[20]=[t("i",{class:"bi bi-cart-fill"},null,-1),l(" Add To Cart ")]),10,Pt)])])]))),128))])]))])])]),p(C)],64)}const jt=k(S,[["render",Tt]]);export{jt as default};
