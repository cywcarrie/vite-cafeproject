import{_ as k,m as x,g as v,S as P,h as T,r as m,o as r,c as i,d as b,a as t,w as _,n as u,b as l,F as g,i as f,e as L,v as A,t as d,j as c}from"./index-BLc06Iu6.js";import{V}from"./VueLoading-Bpy1CoYh.js";import{F as $}from"./FooterComponent-BBzz5jx7.js";const j={BASE_URL:"/vite-cafeproject/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb-api"},{VITE_APP_API:N,VITE_APP_PATH:S}=j,E={components:{VueLoading:V,FooterComponent:$},data(){return{products:[],search:"",categories:[],selectCategory:"",isLoading:!1,id:""}},methods:{...x(v,["addCart"]),getProducts(){const o=`${N}api/${S}/products/all`;this.search="",this.isLoading=!0,this.$http.get(o).then(s=>{if(this.isLoading=!1,s.data.success){this.products=s.data.products,this.getCategories();const{productCategory:h}=this.$route.params;h&&(this.selectCategory=h)}}).catch(s=>{P("error",`${s.response.data.message}`)})},getCategories(){const o=new Set;this.products.forEach(s=>{o.add(s.category)}),this.categories=[...o]},getProduct(o){this.$router.push(`/product/${o}`)}},computed:{...T(v,["isDone"]),filterProducts(){return this.products.filter(o=>o.category.match(this.selectCategory))},searchProducts(){return this.products.filter(o=>o.title.toLowerCase().includes(this.search.toLowerCase())||o.category.toLowerCase().includes(this.search.toLowerCase()))}},mounted(){this.getProducts()}},D={class:"mb-5"},I={class:"container"},B={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},F={class:"breadcrumb"},M={class:"breadcrumb-item"},R={class:"row my-5"},U={class:"col-lg-3 mb-4 mb-lg-0"},H={class:"d-none d-md-block"},O={class:"list-group list-group-flush text-start"},q=["onClick"],z={class:"dropdown d-block d-md-none w-100"},K={class:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1"},G=["onClick"],J={class:"input-group mt-4 mb-3"},Q={key:0,class:"col-lg-9"},W={class:"mb-3"},X={class:"fs-5"},Y={class:"fs-4 text-primary fw-bold"},Z={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},tt={class:"card product-card w-100 h-100"},st=["onClick"],et=["src"],ot={class:"card-body p-3"},rt={class:"d-flex justify-content-start text-primary fw-bold"},it={class:"card-title fw-bolder text-primary mb-3"},nt={class:"d-flex justify-content-between align-items-center mb-3"},lt={key:0,class:"h5 text-secondary"},dt={key:1,class:"h6 text-secondary"},ct={key:2,class:"h5 text-primary fw-bold"},at={class:"card-footer border-0 bg-transparent pt-0 pb-3"},ut=["onClick"],pt={key:0,class:"col text-center mt-5"},bt={key:1,class:"col-lg-9"},gt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},ft={class:"card product-card w-100 h-100 rounded-0"},ht=["onClick"],yt=["src"],mt={class:"card-body p-3"},_t={class:"d-flex justify-content-start text-primary fw-bold"},vt={class:"card-title fw-bolder text-primary mb-3"},wt={class:"d-flex justify-content-between align-items-center mb-3"},Ct={key:0,class:"h5 text-secondary"},kt={key:1,class:"h6 text-secondary"},xt={key:2,class:"h5 text-primary fw-bold"},Pt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},Tt=["onClick"];function Lt(o,s,h,At,n,a){const w=m("VueLoading"),y=m("RouterLink"),C=m("FooterComponent");return r(),i(g,null,[b(w,{active:n.isLoading},null,8,["active"]),t("section",D,[t("div",I,[s[21]||(s[21]=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"}," Our Products ")],-1)),t("nav",B,[t("ol",F,[t("li",M,[b(y,{to:"/",class:"text-dark hover-nav fw-bold"},{default:_(()=>s[4]||(s[4]=[l("Home")])),_:1})]),s[5]||(s[5]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Products",-1))])]),t("div",R,[t("div",U,[t("div",H,[s[8]||(s[8]=t("h3",{class:"text-start text-primary pb-3 fw-bold fs-4 border-bottom border-primary border-2"}," Products ",-1)),t("div",O,[t("button",{type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:n.selectCategory===""}]),"aria-current":"true",onClick:s[0]||(s[0]=e=>n.selectCategory="")},s[6]||(s[6]=[t("i",{class:"bi bi-house-heart me-2"},null,-1),l(" All ")]),2),(r(!0),i(g,null,f(n.categories,e=>(r(),i("button",{key:e,type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:e===n.selectCategory}]),onClick:p=>n.selectCategory=e},[s[7]||(s[7]=t("i",{class:"bi bi-house-heart me-2"},null,-1)),l(" "+d(e),1)],10,q))),128))])]),t("div",z,[s[11]||(s[11]=t("button",{class:"btn btn-secondary dropdown-toggle w-100 fw-bold",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Products ",-1)),t("ul",K,[t("li",null,[t("button",{onClick:s[1]||(s[1]=e=>n.selectCategory=""),class:u([{active:n.selectCategory===""},"dropdown-item fw-bold"]),type:"button"},s[9]||(s[9]=[t("i",{class:"bi bi-house-heart me-2"},null,-1),l("All ")]),2)]),t("li",null,[(r(!0),i(g,null,f(n.categories,e=>(r(),i("button",{key:e,class:u([{active:e===n.selectCategory},"dropdown-item fw-bold"]),onClick:p=>n.selectCategory=e,type:"button"},[s[10]||(s[10]=t("i",{class:"bi bi-house-heart me-2"},null,-1)),l(d(e),1)],10,G))),128))])])]),t("div",J,[L(t("input",{type:"text",class:"form-control border border-primary border-2 rounded-0",placeholder:"Keywords...","onUpdate:modelValue":s[2]||(s[2]=e=>n.search=e)},null,512),[[A,n.search]])])]),n.search?(r(),i("div",Q,[t("div",W,[t("div",X,[s[13]||(s[13]=l(" The following shows the results of ")),t("span",Y,d(n.search),1),t("button",{type:"button",class:"btn btn-outline-danger btn-sm ms-2 text-uppercase",onClick:s[3]||(s[3]=e=>a.getProducts())},s[12]||(s[12]=[t("i",{class:"bi bi-x-circle pe-1"},null,-1),l("Cancel ")]))])]),t("div",Z,[(r(!0),i(g,null,f(a.searchProducts,e=>(r(),i("div",{class:"col mb-4",key:e.id},[t("div",tt,[b(y,{to:`/product/${e.id}`},{default:_(()=>[t("div",{class:"product-img cursor-pointer",onClick:p=>a.getProduct(e.id)},[t("img",{src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,et),s[14]||(s[14]=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),l(" See More ")],-1))],8,st),t("div",ot,[t("div",rt,[t("p",null,[s[15]||(s[15]=t("i",{class:"bi bi-house-heart me-2"},null,-1)),l(d(e.category),1)])]),t("h5",it,d(e.title),1),t("div",nt,[e.price?c("",!0):(r(),i("div",lt," NT$"+d(o.$filters.currency(e.origin_price)),1)),e.price?(r(),i("del",dt,"NT$"+d(o.$filters.currency(e.origin_price)),1)):c("",!0),e.price?(r(),i("div",ct," NT$"+d(o.$filters.currency(e.price)),1)):c("",!0)])])]),_:2},1032,["to"]),t("div",at,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:o.isDone===e.id}]),onClick:p=>o.addCart(e.id,o.qty)},s[16]||(s[16]=[t("i",{class:"bi bi-cart-fill"},null,-1),l(" Add To Cart ")]),10,ut)])])]))),128))]),a.searchProducts.length===0?(r(),i("div",pt,s[17]||(s[17]=[t("h2",{class:"fw-bolder"},"No products found",-1),t("i",{class:"bi bi-bag-x fs-1"},null,-1)]))):c("",!0)])):(r(),i("div",bt,[t("div",gt,[(r(!0),i(g,null,f(a.filterProducts,e=>(r(),i("div",{class:"col mb-4",key:e.id},[t("div",ft,[b(y,{to:`/product/${e.id}`},{default:_(()=>[t("div",{class:"product-img cursor-pointer",onClick:p=>a.getProduct(e.id)},[t("img",{src:e.imageUrl,class:"card-img-top object-fit-cover rounded-0",alt:"productImages"},null,8,yt),s[18]||(s[18]=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),l(" See More ")],-1))],8,ht),t("div",mt,[t("div",_t,[t("p",null,[s[19]||(s[19]=t("i",{class:"bi bi-house-heart me-2"},null,-1)),l(d(e.category),1)])]),t("h5",vt,d(e.title),1),t("div",wt,[e.price?c("",!0):(r(),i("div",Ct," NT$"+d(o.$filters.currency(e.origin_price)),1)),e.price?(r(),i("del",kt,"NT$"+d(o.$filters.currency(e.origin_price)),1)):c("",!0),e.price?(r(),i("div",xt," NT$"+d(o.$filters.currency(e.price)),1)):c("",!0)])])]),_:2},1032,["to"]),t("div",Pt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100 rounded-0",{disabled:o.isDone===e.id}]),onClick:p=>o.addCart(e.id,o.qty)},s[20]||(s[20]=[t("i",{class:"bi bi-cart-fill"},null,-1),l(" Add To Cart ")]),10,Tt)])])]))),128))])]))])])]),b(C)],64)}const Nt=k(E,[["render",Lt]]);export{Nt as default};
