import{_ as p,S as n,r as d,o as _,c as f,a as o,d as r,w as l,b as u,F as g}from"./index-BCkRVABS.js";const b={BASE_URL:"/vite-cafeproject/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb-api"},{VITE_APP_API:h}=b,P={methods:{logout(){const e=`${h}logout`;this.$http.post(e,this.user).then(t=>{t.data.success?(n.fire({position:"top-end",icon:"success",title:"Logout Successful",timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0}),this.$router.push("/login")):n.fire({position:"top-end",icon:"error",title:"Logout Failed",timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})}).catch(t=>{n.fire({position:"top-end",icon:"error",title:`${t.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})}}},$={class:"navbar navbar-expand-lg navbar-dark bg-secondary"},k={class:"container-fluid"},A={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},V={class:"navbar-nav"};function B(e,t,s,v,m,i){const a=d("RouterLink");return _(),f("nav",$,[o("div",k,[t[4]||(t[4]=o("a",{class:"navbar-brand",href:"#"},"後臺管理",-1)),t[5]||(t[5]=o("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[o("span",{class:"navbar-toggler-icon"})],-1)),o("div",A,[o("div",V,[r(a,{to:"/admin/products",class:"nav-link"},{default:l(()=>t[1]||(t[1]=[u("產品")])),_:1}),r(a,{to:"/admin/orders",class:"nav-link"},{default:l(()=>t[2]||(t[2]=[u("訂單")])),_:1}),r(a,{to:"/admin/coupons",class:"nav-link"},{default:l(()=>t[3]||(t[3]=[u("優惠券")])),_:1}),o("button",{type:"button",onClick:t[0]||(t[0]=(...c)=>i.logout&&i.logout(...c)),class:"nav-link"},"登出")])])])])}const E=p(P,[["render",B]]),w={BASE_URL:"/vite-cafeproject/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb-api"},{VITE_APP_API:I}=w,T={components:{Navbar:E},created(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e;const t=`${I}api/user/check`;this.$http.post(t,this.user).then(s=>{s.data.success||this.$router.push("/login")}).catch(s=>{n.fire({position:"top-end",icon:"error",title:`${s.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})}},x={class:"container-fluid mt-3 position-relative"};function R(e,t,s,v,m,i){const a=d("Navbar"),c=d("RouterView");return _(),f(g,null,[r(a),o("div",x,[r(c)])],64)}const S=p(T,[["render",R]]);export{S as default};
